<!DOCTYPE html>
<html>
<head>
  <title>Dashboard - KVR Infinity</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='homepage.css') }}">
</head>
<body>

   <nav class="navbar">
    <h1>KVR Infinity</h1>
    <div class="nav-links">
      <a href="{{ url_for('home') }}">Home</a>
      <a href="{{ url_for('courses') }}">Courses</a>
      <a href="#">About Us</a>
       <a href="#">Blog</a>
      
    </div>
    </nav>
    <a href="{{ url_for('user_dashboard') }}">
    <div class="profile">
      <div class="user-icon">
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
        <circle cx="20" cy="20" r="20" fill="#222"/>
        <circle cx="20" cy="15" r="7" fill="#fff"/>
        <ellipse cx="20" cy="29" rx="12" ry="7" fill="#fff"/>
      </svg>
    </div>
  </div></a>
</nav>
</section>
<h2>Explore top <span style="color: red;">courses🎓</span></h2>

<div class="slider-wrapper">
  <button class="slider-btn left">&#8249;</button>

  <div class="slider" id="courseSlider">
    {% for course in top_courses %}
<div class="course-card">
  <div class="course-front">
    <img src="{{ course.image_url }}" alt="{{ course.course_name }}">
    <span>All levels</span>
    <h3>{{ course.course_name }}</h3>
    <p>👨‍🎓 {{ course.get('enrollments_count', 0) }} Students &nbsp;&nbsp; 📘 {{ course.get('chapters', 0) }} Chapters</p>
  
  </div>
  <div class="course-details-hover">
    <h3>{{ course.course_name }}</h3>
    <a href="{{ url_for('course_detail', id=course._id|string) }}">
      <button>View Detail</button>
    </a>

  </div>
</div>
{% endfor %}

        
    

  </div>

   
    <button class="slider-btn right">&#8249;</button>   
</div>


<script>
  const slider = document.getElementById('courseSlider');
  const btnLeft = document.querySelector('.slider-btn.left');
  const btnRight = document.querySelector('.slider-btn.right');

  btnLeft.addEventListener('click', () => {
    slider.scrollBy({ left: -300, behavior: 'smooth' });
  });

  btnRight.addEventListener('click', () => {
    slider.scrollBy({ left: 300, behavior: 'smooth' });
  });
</script>

<script>
  const counters = document.querySelectorAll('.counter');

  counters.forEach(counter => {
    const updateCount = () => {
      const target = +counter.getAttribute('data-target');
      const current = +counter.innerText;

      // Speed: Higher = slower count
      const increment = target / 60;

      if (current < target) {
        counter.innerText = Math.ceil(current + increment);
        setTimeout(updateCount, 10);
      } else {
        counter.innerText = target + "+"; // Add + after completion
      }
    };

    updateCount();
  });
</script>
</body>
</html>